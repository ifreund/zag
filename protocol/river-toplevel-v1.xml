<?xml version="1.0" encoding="UTF-8"?>
<protocol name="river_toplevel_v1">
  <copyright>
    Copyright 2021 The River Developers

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted, provided that the above
    copyright notice and this permission notice appear in all copies.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
    WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
    MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
    ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
    WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
    ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
    OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
  </copyright>

  <description summary="river specific information for toplevels">
    This protocol extends wlr-foreign-toplevel-management-unstable-v1 to enable
    clients to track and modify river specific toplevel states.

    Warning! The protocol described in this file is currently in the testing
    phase. Backward compatible changes may be added together with the
    corresponding interface version bump. Backward incompatible changes can
    only be done by creating a new major version of the extension.
  </description>

  <interface name="river_toplevel_manager_v1" version="1">
    <description summary="manage river toplevel objects">
      A global factory for river_toplevel_v1 objects.
    </description>

    <request name="destroy" type="destructor">
      <description summary="destroy the river_toplevel_manager object">
        This request indicates that the client will not use the
        river_toplevel_manager object any more. Objects that have been created
        through this instance are not affected.
      </description>
    </request>

    <request name="get_toplevel">
      <description summary="create a river_toplevel_v1 object">
        This creates a new river_toplevel_v1 object for a
        zwlr_foreign_toplevel_handle_v1.
      </description>
      <arg name="id" type="new_id" interface="river_toplevel_v1"/>
      <arg name="handle" type="object" inteface="zwlr_foreign_toplevel_handle_v1"/>
    </request>
  </interface>

  <interface name="river_toplevel_v1" version="1">
    <description summary="a river toplevel handle">
      This objects is used to track and set river specific toplevel states.

      After all states have been advertised, the done event of the
      zwlr_foreign_toplevel_handle_v1 is send.
    </description>

    <event name="tags">
      <description summary="tags of the toplevel">
        Sent once when binding the interface and again whenever the tags
        of the toplevel change.
      </description>
      <arg name="tags" type="uint" summary="32-bit bitfield"/>
    </event>

    <event name="floating">
      <description summary="floating state of the toplevel">
        Sent once when binding the interface and again whenever the tags
        of the toplevel change.
      </description>
      <arg name="floating" type="bool"/>
    </event>
  </interface>
</protocol>

